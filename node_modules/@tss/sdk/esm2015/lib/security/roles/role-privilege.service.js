/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
// Angular.
import { HttpClient } from '@angular/common/http';
import { Injectable } from '@angular/core';
// TSS.
import { SecurityConfig } from '../security-config';
import { MISSING_ROLE_PARAM_EXCEPTION_MSG } from './role';
import { BaseResourceService } from '../../core/resource/base-resource.service';
import { join } from '../../core/url/join.function';
import { UNSUPPORTED_GET_EXCEPTION_MSG, UNSUPPORTED_CREATE_EXCEPTION_MSG } from '../../core/resource/resource.constants';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common/http";
import * as i2 from "../security-config";
/** @type {?} */
export const MISSING_PRIVILEGE_PARAM_EXCEPTION_MSG = 'Missing privilege identifier parameter';
/**
 * Service to provide all CRUD operations for privilege/role assignment.
 *
 * \@example
 * ## Gets privileges for a given role:
 * service.privilegesByRole('879e27e1-b139-4348-86ca-ec4d5651475f')
 *
 * // Which is just a shortcut for:
 * service.query({ roleId: 'admin' });
 *
 */
export class RolePrivilegeService extends BaseResourceService {
    /**
     * @param {?} http
     * @param {?} config
     */
    constructor(http, config) {
        super(http, {
            url: join(config.serviceUrl, config.rolesPrivilegesEndpoint),
            idFieldName: 'roleId'
        });
        this.http = http;
    }
    /**
     * Retrieves a list of privileges for a given role ID.
     * @param {?=} routeTokens
     * @param {?=} params
     * @return {?}
     */
    query(routeTokens, params) {
        if (!routeTokens || !routeTokens.roleId) {
            throw new Error(MISSING_ROLE_PARAM_EXCEPTION_MSG);
        }
        return super.query(routeTokens, params);
    }
    /**
     * This method is not supported for this resource. Please use "privilegesByRole".
     * @param {?} id
     * @param {?=} routeTokens
     * @param {?=} params
     * @return {?}
     */
    get(id, routeTokens, params) {
        throw new Error(UNSUPPORTED_GET_EXCEPTION_MSG);
    }
    /**
     * This method is not supported for this resource. Please use "addPrivilegeToRole".
     * @param {?} entity
     * @param {?=} routeTokens
     * @param {?=} params
     * @return {?}
     */
    create(entity, routeTokens, params) {
        throw new Error(UNSUPPORTED_CREATE_EXCEPTION_MSG);
    }
    /**
     * Updates a privilege assignment (adds a privilege to a role).
     * @param {?} entity
     * @param {?=} routeTokens
     * @param {?=} params
     * @return {?}
     */
    update(entity, routeTokens, params) {
        if (!routeTokens || !routeTokens.roleId) {
            throw new Error(MISSING_ROLE_PARAM_EXCEPTION_MSG);
        }
        else if (!routeTokens.privilegeId) {
            throw new Error(MISSING_PRIVILEGE_PARAM_EXCEPTION_MSG);
        }
        return super.update(null, routeTokens, params);
    }
    /**
     * Removes a privilege from a role assignment.
     * @param {?} id
     * @param {?=} routeTokens
     * @param {?=} params
     * @return {?}
     */
    delete(id, routeTokens, params) {
        if (!routeTokens || !routeTokens.roleId) {
            throw new Error(MISSING_ROLE_PARAM_EXCEPTION_MSG);
        }
        else if (!routeTokens.privilegeId) {
            throw new Error(MISSING_PRIVILEGE_PARAM_EXCEPTION_MSG);
        }
        return super.delete(id, routeTokens, params);
    }
    /**
     * Retrieves all privileges assigned to the given role ID.
     * @param {?} roleId
     * @param {?=} params
     * @return {?}
     */
    privilegesByRole(roleId, params) {
        return this.query({ roleId }, params);
    }
    /**
     * Adds a privilege to role.
     * @param {?} roleId
     * @param {?} privilegeId
     * @return {?}
     */
    addPrivilegeToRole(roleId, privilegeId) {
        return this.update(null, { roleId, privilegeId });
    }
    /**
     * Removes a privilege from the given role.
     * @param {?} roleId
     * @param {?} privilegeId
     * @return {?}
     */
    removePrivilegeFromRole(roleId, privilegeId) {
        return this.delete(roleId, { roleId, privilegeId });
    }
}
RolePrivilegeService.decorators = [
    { type: Injectable, args: [{
                providedIn: 'root'
            },] }
];
/** @nocollapse */
RolePrivilegeService.ctorParameters = () => [
    { type: HttpClient },
    { type: SecurityConfig }
];
/** @nocollapse */ RolePrivilegeService.ngInjectableDef = i0.defineInjectable({ factory: function RolePrivilegeService_Factory() { return new RolePrivilegeService(i0.inject(i1.HttpClient), i0.inject(i2.SecurityConfig)); }, token: RolePrivilegeService, providedIn: "root" });
if (false) {
    /**
     * @type {?}
     * @protected
     */
    RolePrivilegeService.prototype.http;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm9sZS1wcml2aWxlZ2Uuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0B0c3Mvc2RrLyIsInNvdXJjZXMiOlsibGliL3NlY3VyaXR5L3JvbGVzL3JvbGUtcHJpdmlsZWdlLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSxPQUFPLEVBQUUsVUFBVSxFQUFjLE1BQU0sc0JBQXNCLENBQUM7QUFDOUQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQzs7QUFNM0MsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBRXBELE9BQU8sRUFBRSxnQ0FBZ0MsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUMxRCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSwyQ0FBMkMsQ0FBQztBQUNoRixPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDcEQsT0FBTyxFQUFFLDZCQUE2QixFQUFFLGdDQUFnQyxFQUFFLE1BQU0sd0NBQXdDLENBQUM7Ozs7O0FBR3pILE1BQU0sT0FBTyxxQ0FBcUMsR0FBRyx3Q0FBd0M7Ozs7Ozs7Ozs7OztBQWlCN0YsTUFBTSxPQUFPLG9CQUFxQixTQUFRLG1CQUE4Qjs7Ozs7SUFDdEUsWUFBc0IsSUFBZ0IsRUFBRSxNQUFzQjtRQUM1RCxLQUFLLENBQUMsSUFBSSxFQUFFO1lBQ1YsR0FBRyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQztZQUM1RCxXQUFXLEVBQUUsUUFBUTtTQUN0QixDQUFDLENBQUM7UUFKaUIsU0FBSSxHQUFKLElBQUksQ0FBWTtJQUt0QyxDQUFDOzs7Ozs7O0lBS0QsS0FBSyxDQUFDLFdBQWlCLEVBQUUsTUFBbUI7UUFDMUMsSUFBSSxDQUFDLFdBQVcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUU7WUFDdkMsTUFBTSxJQUFJLEtBQUssQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO1NBQ25EO1FBRUQsT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUMxQyxDQUFDOzs7Ozs7OztJQUtELEdBQUcsQ0FBQyxFQUFtQixFQUFFLFdBQWlCLEVBQUUsTUFBbUI7UUFDN0QsTUFBTSxJQUFJLEtBQUssQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0lBQ2pELENBQUM7Ozs7Ozs7O0lBS0QsTUFBTSxDQUFDLE1BQWlCLEVBQUUsV0FBaUIsRUFBRSxNQUFtQjtRQUM5RCxNQUFNLElBQUksS0FBSyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7SUFDcEQsQ0FBQzs7Ozs7Ozs7SUFLRCxNQUFNLENBQUMsTUFBaUIsRUFBRSxXQUFpQixFQUFFLE1BQW1CO1FBQzlELElBQUksQ0FBQyxXQUFXLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFO1lBQ3ZDLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztTQUNuRDthQUFNLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFO1lBQ25DLE1BQU0sSUFBSSxLQUFLLENBQUMscUNBQXFDLENBQUMsQ0FBQztTQUN4RDtRQUVELE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ2pELENBQUM7Ozs7Ozs7O0lBS0QsTUFBTSxDQUFDLEVBQW1CLEVBQUUsV0FBaUIsRUFBRSxNQUFtQjtRQUNoRSxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRTtZQUN2QyxNQUFNLElBQUksS0FBSyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7U0FDbkQ7YUFBTSxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRTtZQUNuQyxNQUFNLElBQUksS0FBSyxDQUFDLHFDQUFxQyxDQUFDLENBQUM7U0FDeEQ7UUFFRCxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLFdBQVcsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUMvQyxDQUFDOzs7Ozs7O0lBS0QsZ0JBQWdCLENBQUMsTUFBYyxFQUFFLE1BQW1CO1FBQ2xELE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLE1BQU0sRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3hDLENBQUM7Ozs7Ozs7SUFLRCxrQkFBa0IsQ0FBQyxNQUFjLEVBQUUsV0FBbUI7UUFDcEQsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsQ0FBQyxDQUFDO0lBQ3BELENBQUM7Ozs7Ozs7SUFNRCx1QkFBdUIsQ0FBQyxNQUFjLEVBQUUsV0FBbUI7UUFDekQsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsQ0FBQyxDQUFDO0lBQ3RELENBQUM7OztZQWxGRixVQUFVLFNBQUM7Z0JBQ1YsVUFBVSxFQUFFLE1BQU07YUFDbkI7Ozs7WUEvQlEsVUFBVTtZQU9WLGNBQWM7Ozs7Ozs7O0lBMEJULG9DQUEwQiIsInNvdXJjZXNDb250ZW50IjpbIi8vIEFuZ3VsYXIuXG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwUGFyYW1zIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG4vLyAzcmQgcGFydHkuXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5cbi8vIFRTUy5cbmltcG9ydCB7IFNlY3VyaXR5Q29uZmlnIH0gZnJvbSAnLi4vc2VjdXJpdHktY29uZmlnJztcbmltcG9ydCB7IFByaXZpbGVnZSB9IGZyb20gJy4uL3ByaXZpbGVnZXMvcHJpdmlsZWdlJztcbmltcG9ydCB7IE1JU1NJTkdfUk9MRV9QQVJBTV9FWENFUFRJT05fTVNHIH0gZnJvbSAnLi9yb2xlJztcbmltcG9ydCB7IEJhc2VSZXNvdXJjZVNlcnZpY2UgfSBmcm9tICcuLi8uLi9jb3JlL3Jlc291cmNlL2Jhc2UtcmVzb3VyY2Uuc2VydmljZSc7XG5pbXBvcnQgeyBqb2luIH0gZnJvbSAnLi4vLi4vY29yZS91cmwvam9pbi5mdW5jdGlvbic7XG5pbXBvcnQgeyBVTlNVUFBPUlRFRF9HRVRfRVhDRVBUSU9OX01TRywgVU5TVVBQT1JURURfQ1JFQVRFX0VYQ0VQVElPTl9NU0cgfSBmcm9tICcuLi8uLi9jb3JlL3Jlc291cmNlL3Jlc291cmNlLmNvbnN0YW50cyc7XG5cblxuZXhwb3J0IGNvbnN0IE1JU1NJTkdfUFJJVklMRUdFX1BBUkFNX0VYQ0VQVElPTl9NU0cgPSAnTWlzc2luZyBwcml2aWxlZ2UgaWRlbnRpZmllciBwYXJhbWV0ZXInO1xuXG5cbi8qKlxuICogU2VydmljZSB0byBwcm92aWRlIGFsbCBDUlVEIG9wZXJhdGlvbnMgZm9yIHByaXZpbGVnZS9yb2xlIGFzc2lnbm1lbnQuXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIEdldHMgcHJpdmlsZWdlcyBmb3IgYSBnaXZlbiByb2xlOlxuICogc2VydmljZS5wcml2aWxlZ2VzQnlSb2xlKCc4NzllMjdlMS1iMTM5LTQzNDgtODZjYS1lYzRkNTY1MTQ3NWYnKVxuICpcbiAqIC8vIFdoaWNoIGlzIGp1c3QgYSBzaG9ydGN1dCBmb3I6XG4gKiBzZXJ2aWNlLnF1ZXJ5KHsgcm9sZUlkOiAnYWRtaW4nIH0pO1xuICpcbiAqL1xuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgUm9sZVByaXZpbGVnZVNlcnZpY2UgZXh0ZW5kcyBCYXNlUmVzb3VyY2VTZXJ2aWNlPFByaXZpbGVnZT4ge1xuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgaHR0cDogSHR0cENsaWVudCwgY29uZmlnOiBTZWN1cml0eUNvbmZpZykge1xuICAgIHN1cGVyKGh0dHAsIHtcbiAgICAgIHVybDogam9pbihjb25maWcuc2VydmljZVVybCwgY29uZmlnLnJvbGVzUHJpdmlsZWdlc0VuZHBvaW50KSxcbiAgICAgIGlkRmllbGROYW1lOiAncm9sZUlkJ1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhIGxpc3Qgb2YgcHJpdmlsZWdlcyBmb3IgYSBnaXZlbiByb2xlIElELlxuICAgKi9cbiAgcXVlcnkocm91dGVUb2tlbnM/OiBhbnksIHBhcmFtcz86IEh0dHBQYXJhbXMpOiBPYnNlcnZhYmxlPFByaXZpbGVnZVtdPiB7XG4gICAgaWYgKCFyb3V0ZVRva2VucyB8fCAhcm91dGVUb2tlbnMucm9sZUlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19ST0xFX1BBUkFNX0VYQ0VQVElPTl9NU0cpO1xuICAgIH1cblxuICAgIHJldHVybiBzdXBlci5xdWVyeShyb3V0ZVRva2VucywgcGFyYW1zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIHJlc291cmNlLiBQbGVhc2UgdXNlIFwicHJpdmlsZWdlc0J5Um9sZVwiLlxuICAgKi9cbiAgZ2V0KGlkOiBzdHJpbmcgfCBudW1iZXIsIHJvdXRlVG9rZW5zPzogYW55LCBwYXJhbXM/OiBIdHRwUGFyYW1zKTogT2JzZXJ2YWJsZTxQcml2aWxlZ2U+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoVU5TVVBQT1JURURfR0VUX0VYQ0VQVElPTl9NU0cpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgcmVzb3VyY2UuIFBsZWFzZSB1c2UgXCJhZGRQcml2aWxlZ2VUb1JvbGVcIi5cbiAgICovXG4gIGNyZWF0ZShlbnRpdHk6IFByaXZpbGVnZSwgcm91dGVUb2tlbnM/OiBhbnksIHBhcmFtcz86IEh0dHBQYXJhbXMpOiBPYnNlcnZhYmxlPFByaXZpbGVnZT4ge1xuICAgIHRocm93IG5ldyBFcnJvcihVTlNVUFBPUlRFRF9DUkVBVEVfRVhDRVBUSU9OX01TRyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyBhIHByaXZpbGVnZSBhc3NpZ25tZW50IChhZGRzIGEgcHJpdmlsZWdlIHRvIGEgcm9sZSkuXG4gICAqL1xuICB1cGRhdGUoZW50aXR5OiBQcml2aWxlZ2UsIHJvdXRlVG9rZW5zPzogYW55LCBwYXJhbXM/OiBIdHRwUGFyYW1zKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICBpZiAoIXJvdXRlVG9rZW5zIHx8ICFyb3V0ZVRva2Vucy5yb2xlSWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihNSVNTSU5HX1JPTEVfUEFSQU1fRVhDRVBUSU9OX01TRyk7XG4gICAgfSBlbHNlIGlmICghcm91dGVUb2tlbnMucHJpdmlsZWdlSWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihNSVNTSU5HX1BSSVZJTEVHRV9QQVJBTV9FWENFUFRJT05fTVNHKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3VwZXIudXBkYXRlKG51bGwsIHJvdXRlVG9rZW5zLCBwYXJhbXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBwcml2aWxlZ2UgZnJvbSBhIHJvbGUgYXNzaWdubWVudC5cbiAgICovXG4gIGRlbGV0ZShpZDogc3RyaW5nIHwgbnVtYmVyLCByb3V0ZVRva2Vucz86IGFueSwgcGFyYW1zPzogSHR0cFBhcmFtcyk6IE9ic2VydmFibGU8UHJpdmlsZWdlPiB7XG4gICAgaWYgKCFyb3V0ZVRva2VucyB8fCAhcm91dGVUb2tlbnMucm9sZUlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19ST0xFX1BBUkFNX0VYQ0VQVElPTl9NU0cpO1xuICAgIH0gZWxzZSBpZiAoIXJvdXRlVG9rZW5zLnByaXZpbGVnZUlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19QUklWSUxFR0VfUEFSQU1fRVhDRVBUSU9OX01TRyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN1cGVyLmRlbGV0ZShpZCwgcm91dGVUb2tlbnMsIHBhcmFtcyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIGFsbCBwcml2aWxlZ2VzIGFzc2lnbmVkIHRvIHRoZSBnaXZlbiByb2xlIElELlxuICAgKi9cbiAgcHJpdmlsZWdlc0J5Um9sZShyb2xlSWQ6IHN0cmluZywgcGFyYW1zPzogSHR0cFBhcmFtcyk6IE9ic2VydmFibGU8UHJpdmlsZWdlW10+IHtcbiAgICByZXR1cm4gdGhpcy5xdWVyeSh7IHJvbGVJZCB9LCBwYXJhbXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBwcml2aWxlZ2UgdG8gcm9sZS5cbiAgICovXG4gIGFkZFByaXZpbGVnZVRvUm9sZShyb2xlSWQ6IHN0cmluZywgcHJpdmlsZWdlSWQ6IHN0cmluZyk6IE9ic2VydmFibGU8UHJpdmlsZWdlPiB7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlKG51bGwsIHsgcm9sZUlkLCBwcml2aWxlZ2VJZCB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBwcml2aWxlZ2UgZnJvbSB0aGUgZ2l2ZW4gcm9sZS5cbiAgICovXG4gIHJlbW92ZVByaXZpbGVnZUZyb21Sb2xlKHJvbGVJZDogc3RyaW5nLCBwcml2aWxlZ2VJZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxQcml2aWxlZ2U+IHtcbiAgICByZXR1cm4gdGhpcy5kZWxldGUocm9sZUlkLCB7IHJvbGVJZCwgcHJpdmlsZWdlSWQgfSk7XG4gIH1cbn1cbiJdfQ==