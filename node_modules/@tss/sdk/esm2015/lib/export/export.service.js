/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
// Angular.
import { Injectable } from '@angular/core';
// TSS.
import { JSON_MIME_TYPE, TEXT_MIME_TYPE } from '../core/media/media.constants';
import { base64MimeType } from '../core/media/base64-mime-type.function';
import { base64toBlob } from '../core/media/base64-to-blob.function';
import { DEFAULT_EXPORT_GEOJSON_FILE_NAME } from './export.constants';
import { format } from '../core/formatting/format.function';
import { isString } from '../core/type-check/is-string.function';
import { formatDate } from '../core/date-time/format/format-date.function';
import * as i0 from "@angular/core";
export class ExportService {
    constructor() {
    }
    /**
     * @param {?} fileNameTemplate
     * @param {?=} tokens
     * @param {?=} removeEmptyTokens
     * @return {?}
     */
    replaceTokens(fileNameTemplate, tokens = {}, removeEmptyTokens) {
        return format(fileNameTemplate, Object.assign(this.getReplaceTokens(), tokens), removeEmptyTokens);
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?=} fileNameTemplate
     * @param {...?} features
     * @return {THIS}
     */
    exportFeatureCollection(fileNameTemplate = DEFAULT_EXPORT_GEOJSON_FILE_NAME, ...features) {
        /** @type {?} */
        const fileName = (/** @type {?} */ (this)).replaceTokens(fileNameTemplate, {
            featureLength: features.length,
        });
        /** @type {?} */
        const featureCollection = {
            type: 'FeatureCollection',
            features
        };
        return (/** @type {?} */ (this)).exportFile((/** @type {?} */ (this)).stringify(featureCollection), fileName, JSON_MIME_TYPE);
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?=} fileNameTemplate
     * @param {?=} feature
     * @return {THIS}
     */
    exportFeature(fileNameTemplate = DEFAULT_EXPORT_GEOJSON_FILE_NAME, feature) {
        return (/** @type {?} */ (this)).exportFile((/** @type {?} */ (this)).stringify(feature), fileNameTemplate, JSON_MIME_TYPE);
    }
    /**
     * @param {?} data
     * @return {?}
     */
    stringify(data) {
        return JSON.stringify(data, (/**
         * @param {?} key
         * @param {?} value
         * @return {?}
         */
        (key, value) => {
            return key.startsWith('$$') ? undefined : value;
        }), 2);
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} data
     * @param {?} fileNameTemplate
     * @return {THIS}
     */
    exportJson(data, fileNameTemplate) {
        /** @type {?} */
        const jsonString = isString(data)
            ? (/** @type {?} */ (data))
            : (/** @type {?} */ (this)).stringify(data);
        return (/** @type {?} */ (this)).exportFile(jsonString, fileNameTemplate, JSON_MIME_TYPE);
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} base64Data
     * @param {?} fileNameTemplate
     * @param {?=} contentType
     * @return {THIS}
     */
    exportBase64(base64Data, fileNameTemplate, contentType) {
        /** @type {?} */
        const fileName = (/** @type {?} */ (this)).replaceTokens(fileNameTemplate);
        contentType = contentType || base64MimeType(base64Data);
        /** @type {?} */
        const blob = base64toBlob(base64Data, contentType);
        return (/** @type {?} */ (this)).exportFromUrl(URL.createObjectURL(blob), fileName);
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} data
     * @param {?} fileNameTemplate
     * @param {?=} contentType
     * @return {THIS}
     */
    exportFile(data, fileNameTemplate, contentType = TEXT_MIME_TYPE) {
        /** @type {?} */
        const blob = new Blob([data], { type: contentType });
        /** @type {?} */
        const fileName = (/** @type {?} */ (this)).replaceTokens(fileNameTemplate);
        return (/** @type {?} */ (this)).exportBlob(blob, fileName);
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} blob
     * @param {?} fileNameTemplate
     * @return {THIS}
     */
    exportBlob(blob, fileNameTemplate) {
        /** @type {?} */
        const fileName = (/** @type {?} */ (this)).replaceTokens(fileNameTemplate);
        return (/** @type {?} */ (this)).exportFromUrl(window.URL.createObjectURL(blob), fileName);
    }
    /**
     * @template THIS
     * @this {THIS}
     * @param {?} url
     * @param {?} fileName
     * @return {THIS}
     */
    exportFromUrl(url, fileName) {
        /** @type {?} */
        const link = document.createElement('a');
        link.href = url;
        link.download = fileName;
        link.click();
        return (/** @type {?} */ (this));
    }
    /**
     * @protected
     * @return {?}
     */
    getReplaceTokens() {
        return {
            date: new Date(),
            shortDate: formatDate(new Date(), 'yyyy-MM-dd'),
            year: new Date().getFullYear(),
        };
    }
}
ExportService.decorators = [
    { type: Injectable, args: [{
                providedIn: 'root'
            },] }
];
/** @nocollapse */
ExportService.ctorParameters = () => [];
/** @nocollapse */ ExportService.ngInjectableDef = i0.defineInjectable({ factory: function ExportService_Factory() { return new ExportService(); }, token: ExportService, providedIn: "root" });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhwb3J0LnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdHNzL3Nkay8iLCJzb3VyY2VzIjpbImxpYi9leHBvcnQvZXhwb3J0LnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDOztBQU8zQyxPQUFPLEVBQUUsY0FBYyxFQUFFLGNBQWMsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQy9FLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSx5Q0FBeUMsQ0FBQztBQUN6RSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sdUNBQXVDLENBQUM7QUFDckUsT0FBTyxFQUFFLGdDQUFnQyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDdEUsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBQzVELE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQztBQUNqRSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sK0NBQStDLENBQUM7O0FBTTNFLE1BQU0sT0FBTyxhQUFhO0lBQ3hCO0lBQ0EsQ0FBQzs7Ozs7OztJQUVELGFBQWEsQ0FBQyxnQkFBd0IsRUFBRSxTQUFjLEVBQUUsRUFBRSxpQkFBMkI7UUFDbkYsT0FBTyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FDM0MsSUFBSSxDQUFDLGdCQUFnQixFQUFFLEVBQ3ZCLE1BQU0sQ0FDUCxFQUFFLGlCQUFpQixDQUFDLENBQUM7SUFDeEIsQ0FBQzs7Ozs7Ozs7SUFFRCx1QkFBdUIsQ0FBQyxnQkFBZ0IsR0FBRyxnQ0FBZ0MsRUFBRSxHQUFHLFFBQW1COztjQUMzRixRQUFRLEdBQUcsbUJBQUEsSUFBSSxFQUFBLENBQUMsYUFBYSxDQUFDLGdCQUFnQixFQUFFO1lBQ3BELGFBQWEsRUFBRSxRQUFRLENBQUMsTUFBTTtTQUMvQixDQUFDOztjQUVJLGlCQUFpQixHQUFzQjtZQUMzQyxJ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QUFFLENBQUM7UUFFYixPQUFPLG1CQUFBLElBQUksRUFBQSxDQUFDO0lBQ2QsQ0FBQzs7Ozs7SUFFUyxnQkFBZ0I7UUFDeEIsT0FBTztZQUNMLElBQUksRUFBRSxJQUFJLElBQUksRUFBRTtZQUNoQixTQUFTLEVBQUUsVUFBVSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUUsWUFBWSxDQUFDO1lBQy9DLElBQUksRUFBRSxJQUFJLElBQUksRUFBRSxDQUFDLFdBQVcsRUFBRTtTQUMvQixDQUFDO0lBQ0osQ0FBQzs7O1lBakZGLFVBQVUsU0FBQztnQkFDVixVQUFVLEVBQUUsTUFBTTthQUNuQiIsInNvdXJjZXNDb250ZW50IjpbIi8vIEFuZ3VsYXIuXG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbi8vIDNyZCBwYXJ0eS5cbmltcG9ydCB7IEZlYXR1cmVDb2xsZWN0aW9uLCBGZWF0dXJlIH0gZnJvbSAnZ2VvanNvbic7XG5cblxuLy8gVFNTLlxuaW1wb3J0IHsgSlNPTl9NSU1FX1RZUEUsIFRFWFRfTUlNRV9UWVBFIH0gZnJvbSAnLi4vY29yZS9tZWRpYS9tZWRpYS5jb25zdGFudHMnO1xuaW1wb3J0IHsgYmFzZTY0TWltZVR5cGUgfSBmcm9tICcuLi9jb3JlL21lZGlhL2Jhc2U2NC1taW1lLXR5cGUuZnVuY3Rpb24nO1xuaW1wb3J0IHsgYmFzZTY0dG9CbG9iIH0gZnJvbSAnLi4vY29yZS9tZWRpYS9iYXNlNjQtdG8tYmxvYi5mdW5jdGlvbic7XG5pbXBvcnQgeyBERUZBVUxUX0VYUE9SVF9HRU9KU09OX0ZJTEVfTkFNRSB9IGZyb20gJy4vZXhwb3J0LmNvbnN0YW50cyc7XG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICcuLi9jb3JlL2Zvcm1hdHRpbmcvZm9ybWF0LmZ1bmN0aW9uJztcbmltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSAnLi4vY29yZS90eXBlLWNoZWNrL2lzLXN0cmluZy5mdW5jdGlvbic7XG5pbXBvcnQgeyBmb3JtYXREYXRlIH0gZnJvbSAnLi4vY29yZS9kYXRlLXRpbWUvZm9ybWF0L2Zvcm1hdC1kYXRlLmZ1bmN0aW9uJztcblxuXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBFeHBvcnRTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gIH1cblxuICByZXBsYWNlVG9rZW5zKGZpbGVOYW1lVGVtcGxhdGU6IHN0cmluZywgdG9rZW5zOiBhbnkgPSB7fSwgcmVtb3ZlRW1wdHlUb2tlbnM/OiBib29sZWFuKTogc3RyaW5nIHtcbiAgICByZXR1cm4gZm9ybWF0KGZpbGVOYW1lVGVtcGxhdGUsIE9iamVjdC5hc3NpZ24oXG4gICAgICB0aGlzLmdldFJlcGxhY2VUb2tlbnMoKSxcbiAgICAgIHRva2Vuc1xuICAgICksIHJlbW92ZUVtcHR5VG9rZW5zKTtcbiAgfVxuXG4gIGV4cG9ydEZlYXR1cmVDb2xsZWN0aW9uKGZpbGVOYW1lVGVtcGxhdGUgPSBERUZBVUxUX0VYUE9SVF9HRU9KU09OX0ZJTEVfTkFNRSwgLi4uZmVhdHVyZXM6IEZlYXR1cmVbXSk6IHRoaXMge1xuICAgIGNvbnN0IGZpbGVOYW1lID0gdGhpcy5yZXBsYWNlVG9rZW5zKGZpbGVOYW1lVGVtcGxhdGUsIHtcbiAgICAgIGZlYXR1cmVMZW5ndGg6IGZlYXR1cmVzLmxlbmd0aCxcbiAgICB9KTtcblxuICAgIGNvbnN0IGZlYXR1cmVDb2xsZWN0aW9uOiBGZWF0dXJlQ29sbGVjdGlvbiA9IHtcbiAgICAgIHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsXG4gICAgICBmZWF0dXJlc1xuICAgIH07XG5cbiAgICByZXR1cm4gdGhpcy5leHBvcnRGaWxlKHRoaXMuc3RyaW5naWZ5KGZlYXR1cmVDb2xsZWN0aW9uKSwgZmlsZU5hbWUsIEpTT05fTUlNRV9UWVBFKTtcbiAgfVxuXG4gIGV4cG9ydEZlYXR1cmUoZmlsZU5hbWVUZW1wbGF0ZSA9IERFRkFVTFRfRVhQT1JUX0dFT0pTT05fRklMRV9OQU1FLCBmZWF0dXJlOiBGZWF0dXJlKTogdGhpcyB7XG4gICAgcmV0dXJuIHRoaXMuZXhwb3J0RmlsZSh0aGlzLnN0cmluZ2lmeShmZWF0dXJlKSwgZmlsZU5hbWVUZW1wbGF0ZSwgSlNPTl9NSU1FX1RZUEUpO1xuICB9XG5cbiAgc3RyaW5naWZ5KGRhdGE6IGFueSk6IHN0cmluZyB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEsIChrZXksIHZhbHVlKSA9PiB7XG4gICAgICByZXR1cm4ga2V5LnN0YXJ0c1dpdGgoJyQkJykgPyB1bmRlZmluZWQgOiB2YWx1ZTtcbiAgICB9LCAyKTtcbiAgfVxuXG4gIGV4cG9ydEpzb24oZGF0YTogYW55LCBmaWxlTmFtZVRlbXBsYXRlOiBzdHJpbmcpOiB0aGlzIHtcbiAgICBjb25zdCBqc29uU3RyaW5nOiBzdHJpbmcgPSBpc1N0cmluZyhkYXRhKVxuICAgICAgPyBkYXRhIGFzIHN0cmluZ1xuICAgICAgOiB0aGlzLnN0cmluZ2lmeShkYXRhKTtcblxuICAgIHJldHVybiB0aGlzLmV4cG9ydEZpbGUoanNvblN0cmluZywgZmlsZU5hbWVUZW1wbGF0ZSwgSlNPTl9NSU1FX1RZUEUpO1xuICB9XG5cbiAgZXhwb3J0QmFzZTY0KGJhc2U2NERhdGE6IHN0cmluZywgZmlsZU5hbWVUZW1wbGF0ZTogc3RyaW5nLCBjb250ZW50VHlwZT86IHN0cmluZyk6IHRoaXMge1xuICAgIGNvbnN0IGZpbGVOYW1lID0gdGhpcy5yZXBsYWNlVG9rZW5zKGZpbGVOYW1lVGVtcGxhdGUpO1xuICAgIGNvbnRlbnRUeXBlID0gY29udGVudFR5cGUgfHwgYmFzZTY0TWltZVR5cGUoYmFzZTY0RGF0YSk7XG4gICAgY29uc3QgYmxvYiA9IGJhc2U2NHRvQmxvYihiYXNlNjREYXRhLCBjb250ZW50VHlwZSk7XG5cbiAgICByZXR1cm4gdGhpcy5leHBvcnRGcm9tVXJsKFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYiksIGZpbGVOYW1lKTtcbiAgfVxuXG4gIGV4cG9ydEZpbGUoZGF0YTogYW55LCBmaWxlTmFtZVRlbXBsYXRlOiBzdHJpbmcsIGNvbnRlbnRUeXBlID0gVEVYVF9NSU1FX1RZUEUpOiB0aGlzIHtcbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2RhdGFdLCB7IHR5cGU6IGNvbnRlbnRUeXBlIH0pO1xuICAgIGNvbnN0IGZpbGVOYW1lID0gdGhpcy5yZXBsYWNlVG9rZW5zKGZpbGVOYW1lVGVtcGxhdGUpO1xuXG4gICAgcmV0dXJuIHRoaXMuZXhwb3J0QmxvYihibG9iLCBmaWxlTmFtZSk7XG4gIH1cblxuICBleHBvcnRCbG9iKGJsb2I6IEJsb2IsIGZpbGVOYW1lVGVtcGxhdGU6IHN0cmluZyk6IHRoaXMge1xuICAgIGNvbnN0IGZpbGVOYW1lID0gdGhpcy5yZXBsYWNlVG9rZW5zKGZpbGVOYW1lVGVtcGxhdGUpO1xuICAgIHJldHVybiB0aGlzLmV4cG9ydEZyb21Vcmwod2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYiksIGZpbGVOYW1lKTtcbiAgfVxuXG4gIGV4cG9ydEZyb21VcmwodXJsOiBzdHJpbmcsIGZpbGVOYW1lOiBzdHJpbmcpOiB0aGlzIHtcbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXG4gICAgbGluay5ocmVmID0gdXJsO1xuICAgIGxpbmsuZG93bmxvYWQgPSBmaWxlTmFtZTtcbiAgICBsaW5rLmNsaWNrKCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRSZXBsYWNlVG9rZW5zKCk6IHt9IHtcbiAgICByZXR1cm4ge1xuICAgICAgZGF0ZTogbmV3IERhdGUoKSxcbiAgICAgIHNob3J0RGF0ZTogZm9ybWF0RGF0ZShuZXcgRGF0ZSgpLCAneXl5eS1NTS1kZCcpLFxuICAgICAgeWVhcjogbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLFxuICAgIH07XG4gIH1cbn1cbiJdfQ==