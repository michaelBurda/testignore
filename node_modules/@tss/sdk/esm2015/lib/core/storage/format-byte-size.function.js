/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { NO_BYTES_FORMATTED, STORAGE_FORMAT_UNITS } from './storage.constants';
import { isValue } from '../type-check/is-value.function';
/**
 * @param {?} numberOfBytes
 * @param {?=} decimalPlaces
 * @param {?=} lowerCaseUnits
 * @return {?}
 */
export function formatByteSize(numberOfBytes, decimalPlaces, lowerCaseUnits = false) {
    /** @type {?} */
    let len = 0;
    if (!numberOfBytes) {
        return NO_BYTES_FORMATTED;
    }
    while (numberOfBytes >= 1024 && ++len) {
        numberOfBytes = numberOfBytes / 1024;
    }
    if (!isValue(decimalPlaces)) {
        decimalPlaces = numberOfBytes >= 10 || len < 1 ? 0 : 1;
    }
    /** @type {?} */
    const fixedNum = numberOfBytes.toFixed(decimalPlaces);
    /** @type {?} */
    const unit = lowerCaseUnits
        ? STORAGE_FORMAT_UNITS[len].toLowerCase()
        : STORAGE_FORMAT_UNITS[len];
    return `${fixedNum} ${unit}`;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybWF0LWJ5dGUtc2l6ZS5mdW5jdGlvbi5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0B0c3Mvc2RrLyIsInNvdXJjZXMiOlsibGliL2NvcmUvc3RvcmFnZS9mb3JtYXQtYnl0ZS1zaXplLmZ1bmN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUMvRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0saUNBQWlDLENBQUM7Ozs7Ozs7QUFHMUQsTUFBTSxVQUFVLGNBQWMsQ0FBQyxhQUFxQixFQUFFLGFBQXNCLEVBQUUsY0FBYyxHQUFHLEtBQUs7O1FBQzlGLEdBQUcsR0FBRyxDQUFDO0lBRVgsSUFBSSxDQUFDLGFBQWEsRUFBRTtRQUNsQixPQUFPLGtCQUFrQixDQUFDO0tBQzNCO0lBRUQsT0FBTyxhQUFhLElBQUksSUFBSSxJQUFJLEVBQUUsR0FBRyxFQUFFO1FBQ3JDLGFBQWEsR0FBRyxhQUFhLEdBQUcsSUFBSSxDQUFDO0tBQ3RDO0lBRUQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsRUFBRTtRQUMzQixhQUFhLEdBQUcsYUFBYSxJQUFJLEVBQUUsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUN4RDs7VUFFSyxRQUFRLEdBQVcsYUFBYSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUM7O1VBQ3ZELElBQUksR0FBRyxjQUFjO1FBQ3pCLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUU7UUFDekMsQ0FBQyxDQUFDLG9CQUFvQixDQUFDLEdBQUcsQ0FBQztJQUU3QixPQUFPLEdBQUcsUUFBUSxJQUFJLElBQUksRUFBRSxDQUFDO0FBQy9CLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOT19CWVRFU19GT1JNQVRURUQsIFNUT1JBR0VfRk9STUFUX1VOSVRTIH0gZnJvbSAnLi9zdG9yYWdlLmNvbnN0YW50cyc7XG5pbXBvcnQgeyBpc1ZhbHVlIH0gZnJvbSAnLi4vdHlwZS1jaGVjay9pcy12YWx1ZS5mdW5jdGlvbic7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEJ5dGVTaXplKG51bWJlck9mQnl0ZXM6IG51bWJlciwgZGVjaW1hbFBsYWNlcz86IG51bWJlciwgbG93ZXJDYXNlVW5pdHMgPSBmYWxzZSk6IHN0cmluZyB7XG4gIGxldCBsZW4gPSAwO1xuXG4gIGlmICghbnVtYmVyT2ZCeXRlcykge1xuICAgIHJldHVybiBOT19CWVRFU19GT1JNQVRURUQ7XG4gIH1cblxuICB3aGlsZSAobnVtYmVyT2ZCeXRlcyA+PSAxMDI0ICYmICsrbGVuKSB7XG4gICAgbnVtYmVyT2ZCeXRlcyA9IG51bWJlck9mQnl0ZXMgLyAxMDI0O1xuICB9XG5cbiAgaWYgKCFpc1ZhbHVlKGRlY2ltYWxQbGFjZXMpKSB7XG4gICAgZGVjaW1hbFBsYWNlcyA9IG51bWJlck9mQnl0ZXMgPj0gMTAgfHwgbGVuIDwgMSA/IDAgOiAxO1xuICB9XG5cbiAgY29uc3QgZml4ZWROdW06IHN0cmluZyA9IG51bWJlck9mQnl0ZXMudG9GaXhlZChkZWNpbWFsUGxhY2VzKTtcbiAgY29uc3QgdW5pdCA9IGxvd2VyQ2FzZVVuaXRzXG4gICAgPyBTVE9SQUdFX0ZPUk1BVF9VTklUU1tsZW5dLnRvTG93ZXJDYXNlKClcbiAgICA6IFNUT1JBR0VfRk9STUFUX1VOSVRTW2xlbl07XG5cbiAgcmV0dXJuIGAke2ZpeGVkTnVtfSAke3VuaXR9YDtcbn1cbiJdfQ==