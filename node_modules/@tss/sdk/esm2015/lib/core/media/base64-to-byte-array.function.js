/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { stripBase64Metadata } from './strip-base64-metadata.function';
/**
 * @param {?} base64Data
 * @return {?}
 */
export function base64toByteArray(base64Data) {
    /** @type {?} */
    const sliceSize = 1024;
    /** @type {?} */
    const strippedBase64Data = stripBase64Metadata(base64Data);
    /** @type {?} */
    const byteCharacters = atob(strippedBase64Data);
    /** @type {?} */
    const bytesLength = byteCharacters.length;
    /** @type {?} */
    const slicesCount = Math.ceil(bytesLength / sliceSize);
    /** @type {?} */
    const byteArrays = new Array(slicesCount);
    /** @type {?} */
    let sliceIndex;
    for (sliceIndex = 0; sliceIndex < slicesCount; ++sliceIndex) {
        /** @type {?} */
        const begin = sliceIndex * sliceSize;
        /** @type {?} */
        const end = Math.min(begin + sliceSize, bytesLength);
        /** @type {?} */
        const bytes = new Array(end - begin);
        /** @type {?} */
        let offset;
        /** @type {?} */
        let i;
        for (offset = begin, i = 0; offset < end; ++i, ++offset) {
            bytes[i] = byteCharacters[offset].charCodeAt(0);
        }
        byteArrays[sliceIndex] = new Uint8Array(bytes);
    }
    return byteArrays;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZTY0LXRvLWJ5dGUtYXJyYXkuZnVuY3Rpb24uanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdHNzL3Nkay8iLCJzb3VyY2VzIjpbImxpYi9jb3JlL21lZGlhL2Jhc2U2NC10by1ieXRlLWFycmF5LmZ1bmN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQzs7Ozs7QUFHdkUsTUFBTSxVQUFVLGlCQUFpQixDQUFDLFVBQWtCOztVQUM1QyxTQUFTLEdBQUcsSUFBSTs7VUFDaEIsa0JBQWtCLEdBQUcsbUJBQW1CLENBQUMsVUFBVSxDQUFDOztVQUNwRCxjQUFjLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDOztVQUN6QyxXQUFXLEdBQUcsY0FBYyxDQUFDLE1BQU07O1VBQ25DLFdBQVcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxTQUFTLENBQUM7O1VBQ2hELFVBQVUsR0FBRyxJQUFJLEtBQUssQ0FBQyxXQUFXLENBQUM7O1FBQ3JDLFVBQWtCO0lBRXRCLEtBQUssVUFBVSxHQUFHLENBQUMsRUFBRSxVQUFVLEdBQUcsV0FBVyxFQUFFLEVBQUUsVUFBVSxFQUFFOztjQUNyRCxLQUFLLEdBQUcsVUFBVSxHQUFHLFNBQVM7O2NBQzlCLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssR0FBRyxTQUFTLEVBQUUsV0FBVyxDQUFDOztjQUU5QyxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsR0FBRyxHQUFHLEtBQUssQ0FBQzs7WUFDaEMsTUFBYzs7WUFDZCxDQUFTO1FBRWIsS0FBSyxNQUFNLEdBQUcsS0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsTUFBTSxHQUFHLEdBQUcsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRTtZQUN2RCxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNqRDtRQUVELFVBQVUsQ0FBQyxVQUFVLENBQUMsR0FBRyxJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUNoRDtJQUVELE9BQU8sVUFBVSxDQUFDO0FBQ3BCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdHJpcEJhc2U2NE1ldGFkYXRhIH0gZnJvbSAnLi9zdHJpcC1iYXNlNjQtbWV0YWRhdGEuZnVuY3Rpb24nO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjR0b0J5dGVBcnJheShiYXNlNjREYXRhOiBzdHJpbmcpOiBVaW50OEFycmF5W10ge1xuICBjb25zdCBzbGljZVNpemUgPSAxMDI0O1xuICBjb25zdCBzdHJpcHBlZEJhc2U2NERhdGEgPSBzdHJpcEJhc2U2NE1ldGFkYXRhKGJhc2U2NERhdGEpO1xuICBjb25zdCBieXRlQ2hhcmFjdGVycyA9IGF0b2Ioc3RyaXBwZWRCYXNlNjREYXRhKTtcbiAgY29uc3QgYnl0ZXNMZW5ndGggPSBieXRlQ2hhcmFjdGVycy5sZW5ndGg7XG4gIGNvbnN0IHNsaWNlc0NvdW50ID0gTWF0aC5jZWlsKGJ5dGVzTGVuZ3RoIC8gc2xpY2VTaXplKTtcbiAgY29uc3QgYnl0ZUFycmF5cyA9IG5ldyBBcnJheShzbGljZXNDb3VudCk7XG4gIGxldCBzbGljZUluZGV4OiBudW1iZXI7XG5cbiAgZm9yIChzbGljZUluZGV4ID0gMDsgc2xpY2VJbmRleCA8IHNsaWNlc0NvdW50OyArK3NsaWNlSW5kZXgpIHtcbiAgICBjb25zdCBiZWdpbiA9IHNsaWNlSW5kZXggKiBzbGljZVNpemU7XG4gICAgY29uc3QgZW5kID0gTWF0aC5taW4oYmVnaW4gKyBzbGljZVNpemUsIGJ5dGVzTGVuZ3RoKTtcblxuICAgIGNvbnN0IGJ5dGVzID0gbmV3IEFycmF5KGVuZCAtIGJlZ2luKTtcbiAgICBsZXQgb2Zmc2V0OiBudW1iZXI7XG4gICAgbGV0IGk6IG51bWJlcjtcblxuICAgIGZvciAob2Zmc2V0ID0gYmVnaW4sIGkgPSAwOyBvZmZzZXQgPCBlbmQ7ICsraSwgKytvZmZzZXQpIHtcbiAgICAgIGJ5dGVzW2ldID0gYnl0ZUNoYXJhY3RlcnNbb2Zmc2V0XS5jaGFyQ29kZUF0KDApO1xuICAgIH1cblxuICAgIGJ5dGVBcnJheXNbc2xpY2VJbmRleF0gPSBuZXcgVWludDhBcnJheShieXRlcyk7XG4gIH1cblxuICByZXR1cm4gYnl0ZUFycmF5cztcbn1cbiJdfQ==