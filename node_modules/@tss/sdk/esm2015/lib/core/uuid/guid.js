/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { uuid } from './uuid.function';
import { INVALID_GUID_ERROR_MSG } from './guid.constants';
/**
 * Represents a Global Unique Identifier (GUID). GUID creation ported from:
 * https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript
 */
export class Guid {
    /**
     * @param {?=} value
     */
    constructor(value) {
        this.value = value || Guid.empty;
        if (!Guid.isValid(value)) {
            throw new Error(INVALID_GUID_ERROR_MSG);
        }
    }
    /**
     * @return {?}
     */
    get isEmpty() {
        return this.value === Guid.empty;
    }
    /**
     * @return {?}
     */
    static newGuid() {
        return new Guid(uuid());
    }
    /**
     * @param {?} str
     * @return {?}
     */
    static isValid(str) {
        /** @type {?} */
        const validRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;
        return validRegex.test(str);
    }
    /**
     * @param {?} guid
     * @return {?}
     */
    equals(guid) {
        return guid.toString() === this.toString();
    }
    /**
     * @return {?}
     */
    toString() {
        return this.value;
    }
    /**
     * @return {?}
     */
    toJSON() {
        return this.value;
    }
}
Guid.empty = '00000000-0000-0000-0000-000000000000';
if (false) {
    /** @type {?} */
    Guid.empty;
    /** @type {?} */
    Guid.prototype.value;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3VpZC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0B0c3Mvc2RrLyIsInNvdXJjZXMiOlsibGliL2NvcmUvdXVpZC9ndWlkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdkMsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7Ozs7O0FBTzFELE1BQU0sT0FBTyxJQUFJOzs7O0lBa0JmLFlBQVksS0FBYztRQUN4QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDO1FBRWpDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQ3hCLE1BQU0sSUFBSSxLQUFLLENBQUMsc0JBQXNCLENBQUMsQ0FBQztTQUN6QztJQUNILENBQUM7Ozs7SUFuQkQsSUFBSSxPQUFPO1FBQ1QsT0FBTyxJQUFJLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDbkMsQ0FBQzs7OztJQUVNLE1BQU0sQ0FBQyxPQUFPO1FBQ25CLE9BQU8sSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUMxQixDQUFDOzs7OztJQUVNLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBVzs7Y0FDekIsVUFBVSxHQUFHLDRFQUE0RTtRQUMvRixPQUFPLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDOUIsQ0FBQzs7Ozs7SUFVRCxNQUFNLENBQUMsSUFBVTtRQUNmLE9BQU8sSUFBSSxDQUFDLFFBQVEsRUFBRSxLQUFLLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUM3QyxDQUFDOzs7O0lBRUQsUUFBUTtRQUNOLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUNwQixDQUFDOzs7O0lBRUQsTUFBTTtRQUNKLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUNwQixDQUFDOztBQW5Dc0IsVUFBSyxHQUFHLHNDQUFzQyxDQUFDOzs7SUFBdEUsV0FBc0U7O0lBRXRFLHFCQUF1QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHV1aWQgfSBmcm9tICcuL3V1aWQuZnVuY3Rpb24nO1xuaW1wb3J0IHsgSU5WQUxJRF9HVUlEX0VSUk9SX01TRyB9IGZyb20gJy4vZ3VpZC5jb25zdGFudHMnO1xuXG5cbi8qKlxuICogUmVwcmVzZW50cyBhIEdsb2JhbCBVbmlxdWUgSWRlbnRpZmllciAoR1VJRCkuIEdVSUQgY3JlYXRpb24gcG9ydGVkIGZyb206XG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDUwMzQvY3JlYXRlLWd1aWQtdXVpZC1pbi1qYXZhc2NyaXB0XG4gKi9cbmV4cG9ydCBjbGFzcyBHdWlkIHtcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBlbXB0eSA9ICcwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAnO1xuXG4gIHJlYWRvbmx5IHZhbHVlOiBzdHJpbmc7XG5cbiAgZ2V0IGlzRW1wdHkoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IEd1aWQuZW1wdHk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIG5ld0d1aWQoKTogR3VpZCB7XG4gICAgcmV0dXJuIG5ldyBHdWlkKHV1aWQoKSk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGlzVmFsaWQoc3RyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCB2YWxpZFJlZ2V4ID0gL15bMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMS01XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfSQvaTtcbiAgICByZXR1cm4gdmFsaWRSZWdleC50ZXN0KHN0cik7XG4gIH1cblxuICBjb25zdHJ1Y3Rvcih2YWx1ZT86IHN0cmluZykge1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZSB8fCBHdWlkLmVtcHR5O1xuXG4gICAgaWYgKCFHdWlkLmlzVmFsaWQodmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoSU5WQUxJRF9HVUlEX0VSUk9SX01TRyk7XG4gICAgfVxuICB9XG5cbiAgZXF1YWxzKGd1aWQ6IEd1aWQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZ3VpZC50b1N0cmluZygpID09PSB0aGlzLnRvU3RyaW5nKCk7XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICB9XG5cbiAgdG9KU09OKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gIH1cbn1cbiJdfQ==