/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { FeatureClassLayer } from '../maps/feature-class-layer';
import { stripTableName } from '../data-source/data-table';
import { CapturePosition } from './capture-position';
/**
 * @param {?} layer
 * @param {?=} stripLayerTableName
 * @return {?}
 */
export function getLayerTableName(layer, stripLayerTableName) {
    if (stripLayerTableName === void 0) { stripLayerTableName = false; }
    /** @type {?} */
    var tableName = layer
        ? layer.featureClassName || layer.datasetName
        : null;
    if (stripLayerTableName) {
        tableName = stripTableName(tableName);
    }
    return tableName;
}
/**
 * @record
 */
export function TemporalLayer() { }
if (false) {
    /** @type {?|undefined} */
    TemporalLayer.prototype.fromDateFieldName;
    /** @type {?|undefined} */
    TemporalLayer.prototype.toDateFieldName;
}
/**
 * @record
 */
export function DataLayer() { }
if (false) {
    /** @type {?} */
    DataLayer.prototype.featureClassName;
}
/**
 * @record
 */
export function NetworkLayerMappingInfo() { }
if (false) {
    /** @type {?} */
    NetworkLayerMappingInfo.prototype.id;
    /** @type {?|undefined} */
    NetworkLayerMappingInfo.prototype.name;
    /** @type {?|undefined} */
    NetworkLayerMappingInfo.prototype.type;
}
/**
 * @record
 */
export function LrsReferenceLayer() { }
if (false) {
    /** @type {?} */
    LrsReferenceLayer.prototype.routeIdFieldName;
    /** @type {?} */
    LrsReferenceLayer.prototype.fromMeasureFieldName;
    /** @type {?} */
    LrsReferenceLayer.prototype.toMeasureFieldName;
}
/**
 * @record
 */
export function LrsDataReferenceLayer() { }
/**
 * @record
 */
export function ChildLrsLayer() { }
if (false) {
    /** @type {?} */
    ChildLrsLayer.prototype.parentNetwork;
}
/**
 * @record
 */
export function EditableLayer() { }
if (false) {
    /** @type {?|undefined} */
    EditableLayer.prototype.targetFeatureClassName;
    /** @type {?|undefined} */
    EditableLayer.prototype.modifiedDateFieldName;
    /** @type {?|undefined} */
    EditableLayer.prototype.modifiedByFieldName;
}
var LrsLayer = /** @class */ (function (_super) {
    tslib_1.__extends(LrsLayer, _super);
    function LrsLayer() {
        var sources = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            sources[_i] = arguments[_i];
        }
        var _this = _super.apply(this, tslib_1.__spread(sources)) || this;
        _this.capturePositions = _this.capturePositions ? _this.capturePositions : [];
        return _this;
    }
    /**
     * @param {?} value
     * @return {?}
     */
    LrsLayer.prototype.getPositionByValue = /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return this.capturePositions.find((/**
         * @param {?} positionDef
         * @return {?}
         */
        function (positionDef) { return positionDef.value === value; }));
    };
    /**
     * @param {?} position
     * @return {?}
     */
    LrsLayer.prototype.getPositions = /**
     * @param {?} position
     * @return {?}
     */
    function (position) {
        return this.capturePositions.filter((/**
         * @param {?} positionDef
         * @return {?}
         */
        function (positionDef) { return positionDef.position === position; }));
    };
    /**
     * @param {?} position
     * @return {?}
     */
    LrsLayer.prototype.hasPosition = /**
     * @param {?} position
     * @return {?}
     */
    function (position) {
        /** @type {?} */
        var positions = this.getPositions(position);
        return positions.length > 0;
    };
    Object.defineProperty(LrsLayer.prototype, "hasAnyPositions", {
        get: /**
         * @return {?}
         */
        function () {
            return this.capturePositions.length > 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LrsLayer.prototype, "hasLanePosition", {
        get: /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var positions = this.getPositions(CapturePosition.Lane);
            return positions.length > 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LrsLayer.prototype, "hasLeftPosition", {
        get: /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var positions = this.getPositions(CapturePosition.Left);
            return positions.length > 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LrsLayer.prototype, "hasRightPosition", {
        get: /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var positions = this.getPositions(CapturePosition.Right);
            return positions.length > 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(LrsLayer.prototype, "hasCenterPosition", {
        get: /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var positions = this.getPositions(CapturePosition.Center);
            return positions.length > 0;
        },
        enumerable: true,
        configurable: true
    });
    return LrsLayer;
}(FeatureClassLayer));
export { LrsLayer };
if (false) {
    /** @type {?} */
    LrsLayer.prototype.featureClassName;
    /** @type {?} */
    LrsLayer.prototype.lrsNetworkId;
    /** @type {?} */
    LrsLayer.prototype.datasetName;
    /** @type {?} */
    LrsLayer.prototype.unitsOfMeasure;
    /** @type {?} */
    LrsLayer.prototype.measurePrecision;
    /** @type {?} */
    LrsLayer.prototype.temporalViewDate;
    /** @type {?} */
    LrsLayer.prototype.timeZoneOffset;
    /** @type {?} */
    LrsLayer.prototype.versionName;
    /** @type {?} */
    LrsLayer.prototype.isRouteEventSource;
    /** @type {?} */
    LrsLayer.prototype.isStaged;
    /** @type {?} */
    LrsLayer.prototype.dateFormat;
    /** @type {?} */
    LrsLayer.prototype.spatialReferenceInfo;
    /** @type {?} */
    LrsLayer.prototype.fromDateFieldName;
    /** @type {?} */
    LrsLayer.prototype.toDateFieldName;
    /** @type {?} */
    LrsLayer.prototype.lrs;
    /** @type {?} */
    LrsLayer.prototype.targetFeatureClassName;
    /** @type {?} */
    LrsLayer.prototype.modifiedDateFieldName;
    /** @type {?} */
    LrsLayer.prototype.modifiedByFieldName;
    /** @type {?} */
    LrsLayer.prototype.preventOverlaps;
    /** @type {?} */
    LrsLayer.prototype.autoStopCaptureOnRecordBreak;
    /** @type {?} */
    LrsLayer.prototype.forwardLaneCountFieldName;
    /** @type {?} */
    LrsLayer.prototype.reverseLaneCountFieldName;
    /** @type {?} */
    LrsLayer.prototype.positionIdentifierFieldName;
    /** @type {?} */
    LrsLayer.prototype.capturePositions;
    /** @type {?} */
    LrsLayer.prototype.laneDrawValueOrder;
    /** @type {?} */
    LrsLayer.prototype.laneIdentifierReverseValues;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibHJzLWxheWVyLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHRzcy9zZGsvIiwic291cmNlcyI6WyJsaWIvbHJzL2xycy1sYXllci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBR2hFLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUczRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7Ozs7OztBQUdyRCxNQUFNLFVBQVUsaUJBQWlCLENBQUMsS0FBZSxFQUFFLG1CQUFvQztJQUFwQyxvQ0FBQSxFQUFBLDJCQUFvQzs7UUFDakYsU0FBUyxHQUFHLEtBQUs7UUFDbkIsQ0FBQyxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsSUFBSSxLQUFLLENBQUMsV0FBVztRQUM3QyxDQUFDLENBQUMsSUFBSTtJQUVSLElBQUksbUJBQW1CLEVBQUU7UUFDdkIsU0FBUyxHQUFHLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQztLQUN2QztJQUVELE9BQU8sU0FBUyxDQUFDO0FBQ25CLENBQUM7Ozs7QUFFRCxtQ0FHQzs7O0lBRkMsMENBQTJCOztJQUMzQix3Q0FBeUI7Ozs7O0FBSTNCLCtCQUVDOzs7SUFEQyxxQ0FBeUI7Ozs7O0FBSTNCLDZDQUlDOzs7SUFIQyxxQ0FBVzs7SUFDWCx1Q0FBYzs7SUFDZCx1Q0FBb0I7Ozs7O0FBSXRCLHVDQUlDOzs7SUFIQyw2Q0FBeUI7O0lBQ3pCLGlEQUE2Qjs7SUFDN0IsK0NBQTJCOzs7OztBQUk3QiwyQ0FDQzs7OztBQUdELG1DQUVDOzs7SUFEQyxzQ0FBdUM7Ozs7O0FBR3pDLG1DQUlDOzs7SUFIQywrQ0FBZ0M7O0lBQ2hDLDhDQUErQjs7SUFDL0IsNENBQTZCOztBQUcvQjtJQUE4QixvQ0FBaUI7SUFxQzdDO1FBQVksaUJBQXNCO2FBQXRCLFVBQXNCLEVBQXRCLHFCQUFzQixFQUF0QixJQUFzQjtZQUF0Qiw0QkFBc0I7O1FBQWxDLGdEQUNXLE9BQU8sV0FFakI7UUFEQyxLQUFJLENBQUMsZ0JBQWdCLEdBQUcsS0FBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxLQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQzs7SUFDN0UsQ0FBQzs7Ozs7SUFFRCxxQ0FBa0I7Ozs7SUFBbEIsVUFBbUIsS0FBSztRQUN0QixPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJOzs7O1FBQUMsVUFBQSxXQUFXLElBQUksT0FBQSxXQUFXLENBQUMsS0FBSyxLQUFLLEtBQUssRUFBM0IsQ0FBMkIsRUFBQyxDQUFDO0lBQ2hGLENBQUM7Ozs7O0lBRUQsK0JBQVk7Ozs7SUFBWixVQUFhLFFBQXlCO1FBQ3BDLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU07Ozs7UUFBQyxVQUFBLFdBQVcsSUFBSSxPQUFBLFdBQVcsQ0FBQyxRQUFRLEtBQUssUUFBUSxFQUFqQyxDQUFpQyxFQUFDLENBQUM7SUFDeEYsQ0FBQzs7Ozs7SUFFRCw4QkFBVzs7OztJQUFYLFVBQVksUUFBeUI7O1lBQzdCLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQztRQUM3QyxPQUFPLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFFRCxzQkFBSSxxQ0FBZTs7OztRQUFuQjtZQUNFLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDMUMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSxxQ0FBZTs7OztRQUFuQjs7Z0JBQ1EsU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQztZQUN6RCxPQUFPLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQzlCLENBQUM7OztPQUFBO0lBRUQsc0JBQUkscUNBQWU7Ozs7UUFBbkI7O2dCQUNRLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUM7WUFDekQsT0FBTyxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUM5QixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHNDQUFnQjs7OztRQUFwQjs7Z0JBQ1EsU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQztZQUMxRCxPQUFPLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQzlCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksdUNBQWlCOzs7O1FBQXJCOztnQkFDUSxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDO1lBQzNELE9BQU8sU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDOUIsQ0FBQzs7O09BQUE7SUFDSCxlQUFDO0FBQUQsQ0FBQyxBQTlFRCxDQUE4QixpQkFBaUIsR0E4RTlDOzs7O0lBNUVDLG9DQUF5Qjs7SUFFekIsZ0NBQXNCOztJQUN0QiwrQkFBcUI7O0lBQ3JCLGtDQUF3Qjs7SUFDeEIsb0NBQTBCOztJQUMxQixvQ0FBd0I7O0lBQ3hCLGtDQUF3Qjs7SUFDeEIsK0JBQXFCOztJQUNyQixzQ0FBNkI7O0lBQzdCLDRCQUFtQjs7SUFDbkIsOEJBQTZCOztJQUM3Qix3Q0FBNEM7O0lBQzVDLHFDQUEyQjs7SUFDM0IsbUNBQXlCOztJQUN6Qix1QkFBOEI7O0lBRzlCLDBDQUFnQzs7SUFDaEMseUNBQStCOztJQUMvQix1Q0FBNkI7O0lBRTdCLG1DQUEwQjs7SUFDMUIsZ0RBQXVDOztJQUd2Qyw2Q0FBbUM7O0lBQ25DLDZDQUFtQzs7SUFFbkMsK0NBQXFDOztJQUNyQyxvQ0FBOEM7O0lBRTlDLHNDQUE4Qjs7SUFDOUIsK0NBQXVDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmVhdHVyZUNsYXNzTGF5ZXIgfSBmcm9tICcuLi9tYXBzL2ZlYXR1cmUtY2xhc3MtbGF5ZXInO1xuaW1wb3J0IHsgTGF5ZXJEYXRlRm9ybWF0LCBNYXBMYXllclR5cGUsIE1hcExheWVyIH0gZnJvbSAnLi4vbWFwcy9tYXAtbGF5ZXInO1xuaW1wb3J0IHsgU3BhdGlhbFJlZmVyZW5jZUluZm8gfSBmcm9tICcuLi9tYXBzL3NwYXRpYWwtcmVmZXJlbmNlJztcbmltcG9ydCB7IHN0cmlwVGFibGVOYW1lIH0gZnJvbSAnLi4vZGF0YS1zb3VyY2UvZGF0YS10YWJsZSc7XG5pbXBvcnQgeyBDYXB0dXJlUG9zaXRpb25EZWZpbml0aW9uIH0gZnJvbSAnLi9jYXB0dXJlLXBvc2l0aW9uLWRlZmluaXRpb24nO1xuaW1wb3J0IHsgTGFuZU1ldGFkYXRhIH0gZnJvbSAnLi9sYW5lLW1ldGFkYXRhJztcbmltcG9ydCB7IENhcHR1cmVQb3NpdGlvbiB9IGZyb20gJy4vY2FwdHVyZS1wb3NpdGlvbic7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExheWVyVGFibGVOYW1lKGxheWVyOiBMcnNMYXllciwgc3RyaXBMYXllclRhYmxlTmFtZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gIGxldCB0YWJsZU5hbWUgPSBsYXllclxuICAgID8gbGF5ZXIuZmVhdHVyZUNsYXNzTmFtZSB8fCBsYXllci5kYXRhc2V0TmFtZVxuICAgIDogbnVsbDtcblxuICBpZiAoc3RyaXBMYXllclRhYmxlTmFtZSkge1xuICAgIHRhYmxlTmFtZSA9IHN0cmlwVGFibGVOYW1lKHRhYmxlTmFtZSk7XG4gIH1cblxuICByZXR1cm4gdGFibGVOYW1lO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRlbXBvcmFsTGF5ZXIge1xuICBmcm9tRGF0ZUZpZWxkTmFtZT86IHN0cmluZztcbiAgdG9EYXRlRmllbGROYW1lPzogc3RyaW5nO1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YUxheWVyIHtcbiAgZmVhdHVyZUNsYXNzTmFtZTogc3RyaW5nO1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgTmV0d29ya0xheWVyTWFwcGluZ0luZm8ge1xuICBpZDogbnVtYmVyO1xuICBuYW1lPzogc3RyaW5nO1xuICB0eXBlPzogTWFwTGF5ZXJUeXBlO1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgTHJzUmVmZXJlbmNlTGF5ZXIgZXh0ZW5kcyBUZW1wb3JhbExheWVyIHtcbiAgcm91dGVJZEZpZWxkTmFtZTogc3RyaW5nO1xuICBmcm9tTWVhc3VyZUZpZWxkTmFtZTogc3RyaW5nO1xuICB0b01lYXN1cmVGaWVsZE5hbWU6IHN0cmluZztcbn1cblxuXG5leHBvcnQgaW50ZXJmYWNlIExyc0RhdGFSZWZlcmVuY2VMYXllciBleHRlbmRzIExyc1JlZmVyZW5jZUxheWVyLCBEYXRhTGF5ZXIge1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hpbGRMcnNMYXllciB7XG4gIHBhcmVudE5ldHdvcms6IE5ldHdvcmtMYXllck1hcHBpbmdJbmZvO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVkaXRhYmxlTGF5ZXIge1xuICB0YXJnZXRGZWF0dXJlQ2xhc3NOYW1lPzogc3RyaW5nO1xuICBtb2RpZmllZERhdGVGaWVsZE5hbWU/OiBzdHJpbmc7XG4gIG1vZGlmaWVkQnlGaWVsZE5hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBMcnNMYXllciBleHRlbmRzIEZlYXR1cmVDbGFzc0xheWVyIGltcGxlbWVudHMgTGFuZU1ldGFkYXRhLCBFZGl0YWJsZUxheWVyIHtcbiAgLy8gU3RhbmRhcmQgTFJTIHByb3BlcnRpZXMuXG4gIGZlYXR1cmVDbGFzc05hbWU6IHN0cmluZztcblxuICBscnNOZXR3b3JrSWQ/OiBudW1iZXI7XG4gIGRhdGFzZXROYW1lPzogc3RyaW5nO1xuICB1bml0c09mTWVhc3VyZT86IHN0cmluZztcbiAgbWVhc3VyZVByZWNpc2lvbj86IG51bWJlcjtcbiAgdGVtcG9yYWxWaWV3RGF0ZT86IERhdGU7XG4gIHRpbWVab25lT2Zmc2V0PzogbnVtYmVyO1xuICB2ZXJzaW9uTmFtZT86IHN0cmluZztcbiAgaXNSb3V0ZUV2ZW50U291cmNlPzogYm9vbGVhbjtcbiAgaXNTdGFnZWQ/OiBib29sZWFuO1xuICBkYXRlRm9ybWF0PzogTGF5ZXJEYXRlRm9ybWF0O1xuICBzcGF0aWFsUmVmZXJlbmNlSW5mbz86IFNwYXRpYWxSZWZlcmVuY2VJbmZvO1xuICBmcm9tRGF0ZUZpZWxkTmFtZT86IHN0cmluZztcbiAgdG9EYXRlRmllbGROYW1lPzogc3RyaW5nO1xuICBscnM/OiBOZXR3b3JrTGF5ZXJNYXBwaW5nSW5mbztcblxuICAvLyBFZGl0IHByb3BlcnRpZXMuXG4gIHRhcmdldEZlYXR1cmVDbGFzc05hbWU/OiBzdHJpbmc7XG4gIG1vZGlmaWVkRGF0ZUZpZWxkTmFtZT86IHN0cmluZztcbiAgbW9kaWZpZWRCeUZpZWxkTmFtZT86IHN0cmluZztcblxuICBwcmV2ZW50T3ZlcmxhcHM/OiBib29sZWFuO1xuICBhdXRvU3RvcENhcHR1cmVPblJlY29yZEJyZWFrPzogYm9vbGVhbjtcblxuICAvLyBMYW5lIG1ldGFkYXRhIGltcGxlbWVudGF0aW9uLlxuICBmb3J3YXJkTGFuZUNvdW50RmllbGROYW1lPzogc3RyaW5nO1xuICByZXZlcnNlTGFuZUNvdW50RmllbGROYW1lPzogc3RyaW5nO1xuXG4gIHBvc2l0aW9uSWRlbnRpZmllckZpZWxkTmFtZT86IHN0cmluZztcbiAgY2FwdHVyZVBvc2l0aW9uczogQ2FwdHVyZVBvc2l0aW9uRGVmaW5pdGlvbltdO1xuXG4gIGxhbmVEcmF3VmFsdWVPcmRlcj86IHN0cmluZ1tdO1xuICBsYW5lSWRlbnRpZmllclJldmVyc2VWYWx1ZXM/OiBzdHJpbmdbXTtcblxuICBjb25zdHJ1Y3RvciguLi5zb3VyY2VzOiBNYXBMYXllcltdKSB7XG4gICAgc3VwZXIoLi4uc291cmNlcyk7XG4gICAgdGhpcy5jYXB0dXJlUG9zaXRpb25zID0gdGhpcy5jYXB0dXJlUG9zaXRpb25zID8gdGhpcy5jYXB0dXJlUG9zaXRpb25zIDogW107XG4gIH1cblxuICBnZXRQb3NpdGlvbkJ5VmFsdWUodmFsdWUpOiBDYXB0dXJlUG9zaXRpb25EZWZpbml0aW9uIHtcbiAgICByZXR1cm4gdGhpcy5jYXB0dXJlUG9zaXRpb25zLmZpbmQocG9zaXRpb25EZWYgPT4gcG9zaXRpb25EZWYudmFsdWUgPT09IHZhbHVlKTtcbiAgfVxuXG4gIGdldFBvc2l0aW9ucyhwb3NpdGlvbjogQ2FwdHVyZVBvc2l0aW9uKTogQ2FwdHVyZVBvc2l0aW9uRGVmaW5pdGlvbltdIHtcbiAgICByZXR1cm4gdGhpcy5jYXB0dXJlUG9zaXRpb25zLmZpbHRlcihwb3NpdGlvbkRlZiA9PiBwb3NpdGlvbkRlZi5wb3NpdGlvbiA9PT0gcG9zaXRpb24pO1xuICB9XG5cbiAgaGFzUG9zaXRpb24ocG9zaXRpb246IENhcHR1cmVQb3NpdGlvbik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHBvc2l0aW9ucyA9IHRoaXMuZ2V0UG9zaXRpb25zKHBvc2l0aW9uKTtcbiAgICByZXR1cm4gcG9zaXRpb25zLmxlbmd0aCA+IDA7XG4gIH1cblxuICBnZXQgaGFzQW55UG9zaXRpb25zKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNhcHR1cmVQb3NpdGlvbnMubGVuZ3RoID4gMDtcbiAgfVxuXG4gIGdldCBoYXNMYW5lUG9zaXRpb24oKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcG9zaXRpb25zID0gdGhpcy5nZXRQb3NpdGlvbnMoQ2FwdHVyZVBvc2l0aW9uLkxhbmUpO1xuICAgIHJldHVybiBwb3NpdGlvbnMubGVuZ3RoID4gMDtcbiAgfVxuXG4gIGdldCBoYXNMZWZ0UG9zaXRpb24oKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcG9zaXRpb25zID0gdGhpcy5nZXRQb3NpdGlvbnMoQ2FwdHVyZVBvc2l0aW9uLkxlZnQpO1xuICAgIHJldHVybiBwb3NpdGlvbnMubGVuZ3RoID4gMDtcbiAgfVxuXG4gIGdldCBoYXNSaWdodFBvc2l0aW9uKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHBvc2l0aW9ucyA9IHRoaXMuZ2V0UG9zaXRpb25zKENhcHR1cmVQb3NpdGlvbi5SaWdodCk7XG4gICAgcmV0dXJuIHBvc2l0aW9ucy5sZW5ndGggPiAwO1xuICB9XG5cbiAgZ2V0IGhhc0NlbnRlclBvc2l0aW9uKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHBvc2l0aW9ucyA9IHRoaXMuZ2V0UG9zaXRpb25zKENhcHR1cmVQb3NpdGlvbi5DZW50ZXIpO1xuICAgIHJldHVybiBwb3NpdGlvbnMubGVuZ3RoID4gMDtcbiAgfVxufVxuIl19