/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
/**
 * Provides a syntax that ensures the correct use of Disposable objects.
 * @template T
 * @param {?} resource
 * @param {?} func
 * @return {?}
 */
export function using(resource, func) {
    return tslib_1.__awaiter(this, void 0, void 0, function () {
        return tslib_1.__generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    _a.trys.push([0, , 2, 4]);
                    return [4 /*yield*/, func(resource)];
                case 1:
                    _a.sent();
                    return [3 /*break*/, 4];
                case 2: return [4 /*yield*/, resource.dispose()];
                case 3:
                    _a.sent();
                    return [7 /*endfinally*/];
                case 4: return [2 /*return*/];
            }
        });
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNpbmcuZnVuY3Rpb24uanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdHNzL3Nkay8iLCJzb3VyY2VzIjpbImxpYi9jb3JlL3VzaW5nLmZ1bmN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQU1BLE1BQU0sVUFBZ0IsS0FBSyxDQUF1QixRQUFXLEVBQUUsSUFBMkM7Ozs7OztvQkFFdEcscUJBQU0sSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFBOztvQkFBcEIsU0FBb0IsQ0FBQzs7d0JBRXJCLHFCQUFNLFFBQVEsQ0FBQyxPQUFPLEVBQUUsRUFBQTs7b0JBQXhCLFNBQXdCLENBQUM7Ozs7OztDQUU1QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpc3Bvc2FibGUgfSBmcm9tICcuL2Rpc3Bvc2FibGUnO1xuXG5cbi8qKlxuICogUHJvdmlkZXMgYSBzeW50YXggdGhhdCBlbnN1cmVzIHRoZSBjb3JyZWN0IHVzZSBvZiBEaXNwb3NhYmxlIG9iamVjdHMuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1c2luZzxUIGV4dGVuZHMgRGlzcG9zYWJsZT4ocmVzb3VyY2U6IFQsIGZ1bmM6IChyZXNvdXJjZTogVCkgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQpIHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBmdW5jKHJlc291cmNlKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBhd2FpdCByZXNvdXJjZS5kaXNwb3NlKCk7XG4gIH1cbn1cbiJdfQ==