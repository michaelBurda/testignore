/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { ValidationResult } from './validation-results';
/** @type {?} */
var BASE_ID = 1;
/**
 * @template T
 */
var /**
 * @template T
 */
ValidationCheck = /** @class */ (function () {
    function ValidationCheck(description, passCheck) {
        this.subChecks = [];
        this.description = description;
        this.passCheck = passCheck;
        this.id = BASE_ID++;
    }
    /**
     * @param {?} id
     * @return {?}
     */
    ValidationCheck.prototype.hasId = /**
     * @param {?} id
     * @return {?}
     */
    function (id) {
        this.id = id;
        return this;
    };
    /**
     * @param {?} description
     * @return {?}
     */
    ValidationCheck.prototype.message = /**
     * @param {?} description
     * @return {?}
     */
    function (description) {
        this.description = description;
        return this;
    };
    /**
     * @param {?=} passCheck
     * @return {?}
     */
    ValidationCheck.prototype.pass = /**
     * @param {?=} passCheck
     * @return {?}
     */
    function (passCheck) {
        this.passCheck = passCheck;
        return this;
    };
    /**
     * @param {?=} failCheck
     * @return {?}
     */
    ValidationCheck.prototype.fail = /**
     * @param {?=} failCheck
     * @return {?}
     */
    function (failCheck) {
        this.failCheck = failCheck;
        return this;
    };
    /**
     * @param {?=} warnCheck
     * @return {?}
     */
    ValidationCheck.prototype.warn = /**
     * @param {?=} warnCheck
     * @return {?}
     */
    function (warnCheck) {
        this.warnCheck = warnCheck;
        return this;
    };
    /**
     * @param {?=} onlyIfCheck
     * @return {?}
     */
    ValidationCheck.prototype.onlyIf = /**
     * @param {?=} onlyIfCheck
     * @return {?}
     */
    function (onlyIfCheck) {
        this.onlyIfCheck = onlyIfCheck;
        return this;
    };
    /**
     * @param {...?} innerChecks
     * @return {?}
     */
    ValidationCheck.prototype.add = /**
     * @param {...?} innerChecks
     * @return {?}
     */
    function () {
        var _this = this;
        var innerChecks = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            innerChecks[_i] = arguments[_i];
        }
        innerChecks.forEach((/**
         * @param {?} inner
         * @return {?}
         */
        function (inner) { return _this.subChecks.push(inner); }));
        return this;
    };
    /**
     * @param {?} target
     * @return {?}
     */
    ValidationCheck.prototype.check = /**
     * @param {?} target
     * @return {?}
     */
    function (target) {
        /** @type {?} */
        var result = new ValidationResult();
        if (this.onlyIfCheck && !this.onlyIfCheck(target)) {
            result.skipped = true;
            return result;
        }
        if (this.passCheck) {
            result.passed = this.passCheck(target);
        }
        if (this.failCheck) {
            result.passed = !this.failCheck(target);
        }
        if (this.warnCheck) {
            result.warned = !this.warnCheck(target);
        }
        if (this.subChecks) {
            this.subChecks.forEach((/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                /** @type {?} */
                var innerResult = c.check(target);
                result.add(innerResult);
            }));
        }
        return result;
    };
    return ValidationCheck;
}());
/**
 * @template T
 */
export { ValidationCheck };
if (false) {
    /** @type {?} */
    ValidationCheck.prototype.id;
    /** @type {?} */
    ValidationCheck.prototype.description;
    /**
     * @type {?}
     * @private
     */
    ValidationCheck.prototype.subChecks;
    /**
     * @type {?}
     * @private
     */
    ValidationCheck.prototype.passCheck;
    /**
     * @type {?}
     * @private
     */
    ValidationCheck.prototype.failCheck;
    /**
     * @type {?}
     * @private
     */
    ValidationCheck.prototype.warnCheck;
    /**
     * @type {?}
     * @private
     */
    ValidationCheck.prototype.onlyIfCheck;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsaWRhdGlvbi1jaGVjay5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0B0c3Mvc2RrLyIsInNvdXJjZXMiOlsibGliL2NvcmUvdmFsaWRhdGlvbi92YWxpZGF0aW9uLWNoZWNrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQzs7SUFHcEQsT0FBTyxHQUFHLENBQUM7Ozs7QUFFZjs7OztJQVVFLHlCQUFZLFdBQW1CLEVBQUUsU0FBbUM7UUFONUQsY0FBUyxHQUF5QixFQUFFLENBQUM7UUFPM0MsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDL0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxPQUFPLEVBQUUsQ0FBQztJQUN0QixDQUFDOzs7OztJQUVELCtCQUFLOzs7O0lBQUwsVUFBTSxFQUFVO1FBQ2QsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDYixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7Ozs7O0lBRUQsaUNBQU87Ozs7SUFBUCxVQUFRLFdBQW1CO1FBQ3pCLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO1FBQy9CLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQzs7Ozs7SUFFRCw4QkFBSTs7OztJQUFKLFVBQUssU0FBaUM7UUFDcEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDOzs7OztJQUVELDhCQUFJOzs7O0lBQUosVUFBSyxTQUFpQztRQUNwQyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7Ozs7O0lBRUQsOEJBQUk7Ozs7SUFBSixVQUFLLFNBQWlDO1FBQ3BDLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQzNCLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQzs7Ozs7SUFFRCxnQ0FBTTs7OztJQUFOLFVBQU8sV0FBbUM7UUFDeEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDL0IsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDOzs7OztJQUVELDZCQUFHOzs7O0lBQUg7UUFBQSxpQkFHQztRQUhHLHFCQUFvQzthQUFwQyxVQUFvQyxFQUFwQyxxQkFBb0MsRUFBcEMsSUFBb0M7WUFBcEMsZ0NBQW9DOztRQUN0QyxXQUFXLENBQUMsT0FBTzs7OztRQUFDLFVBQUEsS0FBSyxJQUFJLE9BQUEsS0FBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQTFCLENBQTBCLEVBQUMsQ0FBQztRQUN6RCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7Ozs7O0lBRUQsK0JBQUs7Ozs7SUFBTCxVQUFNLE1BQVM7O1lBQ1AsTUFBTSxHQUFHLElBQUksZ0JBQWdCLEVBQUU7UUFFckMsSUFBSSxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUNqRCxNQUFNLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztZQUN0QixPQUFPLE1BQU0sQ0FBQztTQUNmO1FBRUQsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2xCLE1BQU0sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUN4QztRQUVELElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNsQixNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUN6QztRQUVELElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNsQixNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUN6QztRQUVELElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNsQixJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU87Ozs7WUFBQyxVQUFBLENBQUM7O29CQUNoQixXQUFXLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7Z0JBQ25DLE1BQU0sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDMUIsQ0FBQyxFQUFDLENBQUM7U0FDSjtRQUVELE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7SUFDSCxzQkFBQztBQUFELENBQUMsQUFoRkQsSUFnRkM7Ozs7Ozs7SUEvRUMsNkJBQVc7O0lBQ1gsc0NBQW9COzs7OztJQUVwQixvQ0FBNkM7Ozs7O0lBQzdDLG9DQUEwQzs7Ozs7SUFDMUMsb0NBQTBDOzs7OztJQUMxQyxvQ0FBMEM7Ozs7O0lBQzFDLHNDQUE0QyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFZhbGlkYXRpb25SZXN1bHQgfSBmcm9tICcuL3ZhbGlkYXRpb24tcmVzdWx0cyc7XG5cblxubGV0IEJBU0VfSUQgPSAxO1xuXG5leHBvcnQgY2xhc3MgVmFsaWRhdGlvbkNoZWNrPFQ+IHtcbiAgaWQ6IG51bWJlcjtcbiAgZGVzY3JpcHRpb246IHN0cmluZztcblxuICBwcml2YXRlIHN1YkNoZWNrczogVmFsaWRhdGlvbkNoZWNrPFQ+W10gPSBbXTtcbiAgcHJpdmF0ZSBwYXNzQ2hlY2s/OiAodmFsdWU6IFQpID0+IGJvb2xlYW47XG4gIHByaXZhdGUgZmFpbENoZWNrPzogKHZhbHVlOiBUKSA9PiBib29sZWFuO1xuICBwcml2YXRlIHdhcm5DaGVjaz86ICh2YWx1ZTogVCkgPT4gYm9vbGVhbjtcbiAgcHJpdmF0ZSBvbmx5SWZDaGVjaz86ICh2YWx1ZTogVCkgPT4gYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihkZXNjcmlwdGlvbjogc3RyaW5nLCBwYXNzQ2hlY2s/OiAodmFsdWU6IGFueSkgPT4gYm9vbGVhbikge1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB0aGlzLnBhc3NDaGVjayA9IHBhc3NDaGVjaztcbiAgICB0aGlzLmlkID0gQkFTRV9JRCsrO1xuICB9XG5cbiAgaGFzSWQoaWQ6IG51bWJlcik6IFZhbGlkYXRpb25DaGVjazxUPiB7XG4gICAgdGhpcy5pZCA9IGlkO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbWVzc2FnZShkZXNjcmlwdGlvbjogc3RyaW5nKTogVmFsaWRhdGlvbkNoZWNrPFQ+IHtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwYXNzKHBhc3NDaGVjaz86ICh2YWx1ZTogVCkgPT4gYm9vbGVhbik6IFZhbGlkYXRpb25DaGVjazxUPiB7XG4gICAgdGhpcy5wYXNzQ2hlY2sgPSBwYXNzQ2hlY2s7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmYWlsKGZhaWxDaGVjaz86ICh2YWx1ZTogVCkgPT4gYm9vbGVhbik6IFZhbGlkYXRpb25DaGVjazxUPiB7XG4gICAgdGhpcy5mYWlsQ2hlY2sgPSBmYWlsQ2hlY2s7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB3YXJuKHdhcm5DaGVjaz86ICh2YWx1ZTogVCkgPT4gYm9vbGVhbik6IFZhbGlkYXRpb25DaGVjazxUPiB7XG4gICAgdGhpcy53YXJuQ2hlY2sgPSB3YXJuQ2hlY2s7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBvbmx5SWYob25seUlmQ2hlY2s/OiAodmFsdWU6IFQpID0+IGJvb2xlYW4pOiBWYWxpZGF0aW9uQ2hlY2s8VD4ge1xuICAgIHRoaXMub25seUlmQ2hlY2sgPSBvbmx5SWZDaGVjaztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFkZCguLi5pbm5lckNoZWNrczogVmFsaWRhdGlvbkNoZWNrPFQ+W10pOiBWYWxpZGF0aW9uQ2hlY2s8VD4ge1xuICAgIGlubmVyQ2hlY2tzLmZvckVhY2goaW5uZXIgPT4gdGhpcy5zdWJDaGVja3MucHVzaChpbm5lcikpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY2hlY2sodGFyZ2V0OiBUKTogVmFsaWRhdGlvblJlc3VsdCB7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcblxuICAgIGlmICh0aGlzLm9ubHlJZkNoZWNrICYmICF0aGlzLm9ubHlJZkNoZWNrKHRhcmdldCkpIHtcbiAgICAgIHJlc3VsdC5za2lwcGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGFzc0NoZWNrKSB7XG4gICAgICByZXN1bHQucGFzc2VkID0gdGhpcy5wYXNzQ2hlY2sodGFyZ2V0KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mYWlsQ2hlY2spIHtcbiAgICAgIHJlc3VsdC5wYXNzZWQgPSAhdGhpcy5mYWlsQ2hlY2sodGFyZ2V0KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy53YXJuQ2hlY2spIHtcbiAgICAgIHJlc3VsdC53YXJuZWQgPSAhdGhpcy53YXJuQ2hlY2sodGFyZ2V0KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdWJDaGVja3MpIHtcbiAgICAgIHRoaXMuc3ViQ2hlY2tzLmZvckVhY2goYyA9PiB7XG4gICAgICAgIGNvbnN0IGlubmVyUmVzdWx0ID0gYy5jaGVjayh0YXJnZXQpO1xuICAgICAgICByZXN1bHQuYWRkKGlubmVyUmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cbiJdfQ==