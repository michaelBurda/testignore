/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { NO_BYTES_FORMATTED, STORAGE_FORMAT_UNITS } from './storage.constants';
import { isValue } from '../type-check/is-value.function';
/**
 * @param {?} numberOfBytes
 * @param {?=} decimalPlaces
 * @param {?=} lowerCaseUnits
 * @return {?}
 */
export function formatByteSize(numberOfBytes, decimalPlaces, lowerCaseUnits) {
    if (lowerCaseUnits === void 0) { lowerCaseUnits = false; }
    /** @type {?} */
    var len = 0;
    if (!numberOfBytes) {
        return NO_BYTES_FORMATTED;
    }
    while (numberOfBytes >= 1024 && ++len) {
        numberOfBytes = numberOfBytes / 1024;
    }
    if (!isValue(decimalPlaces)) {
        decimalPlaces = numberOfBytes >= 10 || len < 1 ? 0 : 1;
    }
    /** @type {?} */
    var fixedNum = numberOfBytes.toFixed(decimalPlaces);
    /** @type {?} */
    var unit = lowerCaseUnits
        ? STORAGE_FORMAT_UNITS[len].toLowerCase()
        : STORAGE_FORMAT_UNITS[len];
    return fixedNum + " " + unit;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybWF0LWJ5dGUtc2l6ZS5mdW5jdGlvbi5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0B0c3Mvc2RrLyIsInNvdXJjZXMiOlsibGliL2NvcmUvc3RvcmFnZS9mb3JtYXQtYnl0ZS1zaXplLmZ1bmN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUMvRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0saUNBQWlDLENBQUM7Ozs7Ozs7QUFHMUQsTUFBTSxVQUFVLGNBQWMsQ0FBQyxhQUFxQixFQUFFLGFBQXNCLEVBQUUsY0FBc0I7SUFBdEIsK0JBQUEsRUFBQSxzQkFBc0I7O1FBQzlGLEdBQUcsR0FBRyxDQUFDO0lBRVgsSUFBSSxDQUFDLGFBQWEsRUFBRTtRQUNsQixPQUFPLGtCQUFrQixDQUFDO0tBQzNCO0lBRUQsT0FBTyxhQUFhLElBQUksSUFBSSxJQUFJLEVBQUUsR0FBRyxFQUFFO1FBQ3JDLGFBQWEsR0FBRyxhQUFhLEdBQUcsSUFBSSxDQUFDO0tBQ3RDO0lBRUQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsRUFBRTtRQUMzQixhQUFhLEdBQUcsYUFBYSxJQUFJLEVBQUUsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUN4RDs7UUFFSyxRQUFRLEdBQVcsYUFBYSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUM7O1FBQ3ZELElBQUksR0FBRyxjQUFjO1FBQ3pCLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUU7UUFDekMsQ0FBQyxDQUFDLG9CQUFvQixDQUFDLEdBQUcsQ0FBQztJQUU3QixPQUFVLFFBQVEsU0FBSSxJQUFNLENBQUM7QUFDL0IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5PX0JZVEVTX0ZPUk1BVFRFRCwgU1RPUkFHRV9GT1JNQVRfVU5JVFMgfSBmcm9tICcuL3N0b3JhZ2UuY29uc3RhbnRzJztcbmltcG9ydCB7IGlzVmFsdWUgfSBmcm9tICcuLi90eXBlLWNoZWNrL2lzLXZhbHVlLmZ1bmN0aW9uJztcblxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0Qnl0ZVNpemUobnVtYmVyT2ZCeXRlczogbnVtYmVyLCBkZWNpbWFsUGxhY2VzPzogbnVtYmVyLCBsb3dlckNhc2VVbml0cyA9IGZhbHNlKTogc3RyaW5nIHtcbiAgbGV0IGxlbiA9IDA7XG5cbiAgaWYgKCFudW1iZXJPZkJ5dGVzKSB7XG4gICAgcmV0dXJuIE5PX0JZVEVTX0ZPUk1BVFRFRDtcbiAgfVxuXG4gIHdoaWxlIChudW1iZXJPZkJ5dGVzID49IDEwMjQgJiYgKytsZW4pIHtcbiAgICBudW1iZXJPZkJ5dGVzID0gbnVtYmVyT2ZCeXRlcyAvIDEwMjQ7XG4gIH1cblxuICBpZiAoIWlzVmFsdWUoZGVjaW1hbFBsYWNlcykpIHtcbiAgICBkZWNpbWFsUGxhY2VzID0gbnVtYmVyT2ZCeXRlcyA+PSAxMCB8fCBsZW4gPCAxID8gMCA6IDE7XG4gIH1cblxuICBjb25zdCBmaXhlZE51bTogc3RyaW5nID0gbnVtYmVyT2ZCeXRlcy50b0ZpeGVkKGRlY2ltYWxQbGFjZXMpO1xuICBjb25zdCB1bml0ID0gbG93ZXJDYXNlVW5pdHNcbiAgICA/IFNUT1JBR0VfRk9STUFUX1VOSVRTW2xlbl0udG9Mb3dlckNhc2UoKVxuICAgIDogU1RPUkFHRV9GT1JNQVRfVU5JVFNbbGVuXTtcblxuICByZXR1cm4gYCR7Zml4ZWROdW19ICR7dW5pdH1gO1xufVxuIl19